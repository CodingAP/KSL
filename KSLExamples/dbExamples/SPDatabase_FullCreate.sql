
CREATE TABLE S (
	SNUM int NOT NULL,
	SNAME varchar(16) NOT NULL,
	STATUS int NOT NULL,
	CITY varchar(20) NOT NULL
);

CREATE TABLE P (
	PNUM int NOT NULL,
	PNAME varchar(18) NOT NULL,
	COLOR varchar(10) NOT NULL,
	WEIGHT decimal(4,1) NOT NULL,
	CITY varchar(20) NOT NULL
);

CREATE TABLE SP (
	SNUM_FK int NOT NULL,
	PNUM_FK int NOT NULL,
	QTY int NOT NULL
);

INSERT INTO S VALUES (1, 'Smith', 20, 'London');
INSERT INTO S VALUES (2, 'Jones', 10, 'Paris');
INSERT INTO S VALUES (3, 'Blake', 30, 'Paris');
INSERT INTO S VALUES (4, 'Clark', 20, 'London');
INSERT INTO S VALUES (5, 'Adams', 30, 'Athens');
INSERT INTO P VALUES (1, 'Nut', 'Red', 12, 'London');
INSERT INTO P VALUES (2, 'Bolt', 'Green', 17, 'Paris');
INSERT INTO P VALUES (3, 'Screw', 'Blue', 17, 'Oslo');
INSERT INTO P VALUES (4, 'Screw', 'Red', 14, 'London');
INSERT INTO P VALUES (5, 'Cam', 'Blue', 12, 'Paris');
INSERT INTO P VALUES (6, 'Cog', 'Red', 19, 'London');
INSERT INTO SP VALUES (1, 1, 300);
INSERT INTO SP VALUES (1, 2, 200);
INSERT INTO SP VALUES (1, 3, 400);
INSERT INTO SP VALUES (1, 4, 200);
INSERT INTO SP VALUES (1, 5, 100);
INSERT INTO SP VALUES (1, 6, 100);
INSERT INTO SP VALUES (2, 1, 300);
INSERT INTO SP VALUES (2, 2, 400);
INSERT INTO SP VALUES (3, 2, 200);
INSERT INTO SP VALUES (4, 2, 200);
INSERT INTO SP VALUES (4, 4, 300);
INSERT INTO SP VALUES (4, 5, 400);

ALTER TABLE S ADD CONSTRAINT S_PK PRIMARY KEY (SNUM);
ALTER TABLE S ADD CONSTRAINT S_NAME_UNIQUE UNIQUE (SNAME);
ALTER TABLE P ADD CONSTRAINT P_PK PRIMARY KEY (PNUM);
ALTER TABLE P ADD CONSTRAINT PNAME_COLOR_CITY_UNIQUE UNIQUE (PNAME, COLOR, CITY);
ALTER TABLE SP ADD CONSTRAINT SP_PK PRIMARY KEY(SNUM_FK, PNUM_FK);
ALTER TABLE SP ADD CONSTRAINT SP_S_FK FOREIGN KEY (SNUM_FK) REFERENCES S (SNUM);
ALTER TABLE SP ADD CONSTRAINT SP_P_FK FOREIGN KEY (PNUM_FK) REFERENCES P (PNUM);